project_name: "youtube-10-ml-display"
seed: 42

paths:
  videos_milestones: "video/milestones"
  videos_eval: "video/eval"
  videos_parts: "video/render/parts"
  videos_training: "video/training" # Training video recordings
  videos_output: "video/output" # Post-processed videos (time-lapses, compilations, comparisons)
  logs_tb: "logs/tb"
  models: "models/checkpoints"
  ffmpeg_path: "C:\\Users\\steve\\AppData\\Local\\Microsoft\\WinGet\\Packages\\Gyan.FFmpeg_Microsoft.Winget.Source_8wekyb3d8bbwe\\ffmpeg-8.0-full_build\\bin\\ffmpeg.exe"

game:
  env_id: "BreakoutNoFrameskip-v4"
  frame_stack: 4
  resize: [84, 84]
  grayscale: true
  max_skip: 4

train:
  algo: "ppo"
  policy: "CnnPolicy"
  total_timesteps: 10000000
  vec_envs: 16 # Increased for better GPU utilization (RTX 3070 Ti can handle more)
  n_steps: 256 # Increased for better GPU batch processing
  batch_size: 512 # Increased for better GPU utilization
  learning_rate: 2.5e-4
  clip_range: 0.1
  ent_coef: 0.01
  vf_coef: 0.5
  gamma: 0.99
  gae_lambda: 0.95
  checkpoint_every_sec: 60
  keep_last: 5

recording:
  fps: 30
  crf: 23
  milestone_clip_seconds: 90
  eval_clip_seconds: 120
  milestones_pct: [0, 1, 2, 5, 10, 20, 30, 40, 50, 60, 70, 80, 90, 100]
  eval_every_steps: 100000
  eval_episodes: 2

# Training video recording (Option D: Smart Recording)
training_video:
  enabled: true # Enable/disable training video recording
  record_env_index: 0 # Which environment to record (0 = first env out of 16)
  fps: 3 # Frame sampling rate (3 FPS = every 10th frame at 30 FPS game speed)
  segment_duration_minutes: 30 # Create new video segment every 30 minutes
  video_quality_crf: 23 # Video compression quality (18=high, 23=default, 28=lower)
  resolution: [480, 360] # Video resolution (smaller = less storage)
  codec: "libx264" # Video codec
  preset: "veryfast" # Encoding speed preset (ultrafast, veryfast, fast, medium, slow)
  output_format: "mp4" # Output video format

stream:
  enabled: true
  pane_size: [640, 480]
  fps: 30
  overlay_hud: true
  checkpoint_poll_sec: 30
  save_mode: "segments"
  segment_seconds: 1800
  output_basename: "breakout_training"
  preset: "veryfast"
  crf: 23

render:
  target_hours: 10
  music_path: "assets/music.mp3"
  add_titles: true

# Showcase Mode (post-training, stochastic replay; defaults keep it off)
showcase_mode: false
showcase_exploration_rate: 0.10
showcase_seed_base: 42
showcase_stochastic_policy: true
showcase_randomness_mode: "both"  # "stochastic" | "epsilon" | "both"

video_tools:
  manifest:
    output_path: "manifest.csv"
    include_metadata: true
    scan_subdirs: true
  concat:
    method: "auto" # "auto", "file_list", "filter_complex"
    output_path: "video/render/youtube_10h.mp4"
    validate_compatibility: true
  supercut:
    output_path: "video/render/youtube_supercut.mp4"
    clip_selection_strategy: "intelligent" # "intelligent", "chronological", "random"
    max_clips: 100
    transition_duration: 0.5
